(self.AMP=self.AMP||[]).push({n:"amp-video",v:"2102130314001",m:0,f:(function(AMP,_){
'use strict';var h,ca="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function da(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}da(this);"function"===typeof Symbol&&Symbol("x");var ea;
if("function"==typeof Object.setPrototypeOf)ea=Object.setPrototypeOf;else{var fa;a:{var ha={a:!0},ia={};try{ia.__proto__=ha;fa=ia.a;break a}catch(a){}fa=!1}ea=fa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ja=ea,ka;function la(){return ka?ka:ka=Promise.resolve(void 0)};function ma(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function na(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}};var oa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function pa(a){var b=Object.create(null);if(!a)return b;for(var c;c=oa.exec(a);){var d=na(c[1],c[1]),e=c[2]?na(c[2].replace(/\+/g," "),c[2]):"";b[d]=e}return b};var qa="";
function ra(a){var b=a||self;if(b.__AMP_MODE)var c=b.__AMP_MODE;else{c=pa(b.location.originalHash||b.location.hash);var d=pa(b.location.search);qa||(qa=b.AMP_CONFIG&&b.AMP_CONFIG.v?b.AMP_CONFIG.v:"012102130314001");c={localDev:!1,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(c.development)||b.AMP_DEV_MODE),examiner:"2"==c.development,esm:!1,geoOverride:c["amp-geo"],minified:!0,lite:void 0!=d.amp_lite,test:!1,log:c.log,version:"2102130314001",rtvVersion:qa};c=b.__AMP_MODE=c}return c}
;var sa=Object.prototype.toString;function m(a){return a?Array.prototype.slice.call(a):[]}function ta(a){return"number"===typeof a&&isFinite(a)};function p(a){var b=!1,c=null,d=a;return function(e){for(var f=[],g=0;g<arguments.length;++g)f[g-0]=arguments[g];b||(c=d.apply(self,f),b=!0,d=null);return c}};var q=self.AMP_CONFIG||{},ua=("string"==typeof q.cdnProxyRegex?new RegExp(q.cdnProxyRegex):q.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function va(a){if(self.document&&self.document.head&&(!self.location||!ua.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}q.cdnUrl||va("runtime-host");q.geoApiUrl||va("amp-geo-api");function wa(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];if(e instanceof Error&&!b){b=void 0;var f=Object.getOwnPropertyDescriptor(e,"message");if(f&&f.writable)b=e;else{f=e.stack;var g=Error(e.message);for(b in e)g[b]=e[b];g.stack=f;b=g}}else c&&(c+=" "),c+=e}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function xa(a){var b=wa.apply(null,arguments);setTimeout(function(){self.__AMP_REPORT_ERROR(b);throw b;})}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};
var r=self.__AMP_LOG;function t(){if(!r.user)throw Error("failed to call initLogConstructor");return r.user}function za(){if(r.dev)return r.dev;throw Error("failed to call initLogConstructor");}function Aa(a,b,c){return t().assert(a,b,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function Ba(a,b,c){var d=u(a),e=Ca(d),f=Da(e),g=f[b];g||(g=f[b]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,adopted:!1});g.ctor||g.obj||(g.ctor=c,g.context=d,g.adopted=!1,g.resolve&&w(e,b))}function x(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return w(a,b)}function y(a,b){var c=u(a);c=Ca(c);return w(c,b)}function B(a,b){a=u(a);a=Ca(a);return Ea(a,b)?w(a,b):null}function u(a){return a.nodeType?x((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}
function Ca(a){a=u(a);return a.isSingleDoc()?a.win:a}function w(a,b){Ea(a,b);a=Da(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Da(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Ea(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var C;function Fa(a){try{var b=a.ownerDocument,c=b.createElement("div"),d=b.createElement("div");c.appendChild(d);return c.querySelector(":scope div")===d}catch(e){return!1}};function Ga(a){var b=Object.create(null);a&&Object.assign(b,a);return b}function Ha(a){return a||{}};var Ia={bubbles:!0,cancelable:!0};function D(a){a.parentElement&&a.parentElement.removeChild(a)}function Ja(a,b,c){var d=c=void 0===c?null:c;d?a.insertBefore(b,d.nextSibling):a.insertBefore(b,a.firstChild)}function Ka(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}
function La(a){return a.closest?a.closest("amp-story"):Ka(a,function(b){var c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;return c?c.call(b,"amp-story"):!1})}function Ma(a,b){for(a=a.firstElementChild;a;a=a.nextElementSibling)if(b(a))return a;return null}function Na(a){/^[\w-]+$/.test("video");(void 0!==C?C:C=Fa(a))?a=a.querySelector("> video".replace(/^|,/g,"$&:scope ")):(a=Oa(a,"> video"),a=void 0===a[0]?null:a[0]);return a}
function E(a,b){/^[\w-]+$/.test(b);b="> "+b;return(void 0!==C?C:C=Fa(a))?a.querySelectorAll(b.replace(/^|,/g,"$&:scope ")):Oa(a,b)}function Oa(a,b){a.classList.add("i-amphtml-scoped");var c=b.replace(/^|,/g,"$&.i-amphtml-scoped "),d=a.querySelectorAll(c);a.classList.remove("i-amphtml-scoped");return d}function F(a,b,c){c=c||{};var d=a.ownerDocument.createEvent("Event");d.data=c;d.initEvent(b,Ia.bubbles,Ia.cancelable);a.dispatchEvent(d)};var Pa={title:"",artist:"",album:"",artwork:[{src:""}]};function Qa(a){var b=a.querySelector('script[type="application/ld+json"]');if(b){try{var c=JSON.parse(b.textContent)}catch(e){c=null}var d=c;if(d&&d.image){if("string"===typeof d.image)return d.image;if(d.image["@list"]&&"string"===typeof d.image["@list"][0])return d.image["@list"][0];if("string"===typeof d.image.url)return d.image.url;if("string"===typeof d.image[0])return d.image[0]}}}
function Ra(a,b){var c=B(a,"url");if(b&&b.artwork){var d=b.artwork;Array.isArray(d);d.forEach(function(e){e&&(e="[object Object]"===sa.call(e)?e.src:e,Aa(c.isProtocolValid(e)))})}};function Sa(a){a.signals().signal("user-interacted")};Ha({c:!0,v:!0,a:!0,ad:!0});function Ta(a,b){this.win=a;this.va=b}function Ua(a,b){if(a.WeakRef)return new a.WeakRef(b);if(!b.id){var c=a.__AMP_WEAKREF_ID=(a.__AMP_WEAKREF_ID||0)+1;b.id="weakref-id-"+c}return new Ta(a,b.id)}Ta.prototype.deref=function(){return this.win.document.getElementById(this.va)||void 0};var G;function H(a,b,c){var d=a,e=c;var f=function(k){try{return e(k)}catch(l){throw self.__AMP_REPORT_ERROR(l),l;}};var g=Va();d.addEventListener(b,f,g?void 0:!1);return function(){d&&d.removeEventListener(b,f,g?void 0:!1);f=d=e=null}}function Va(){if(void 0!==G)return G;G=!1;try{var a={get capture(){G=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return G};function Wa(a,b,c){var d={detail:c};Object.assign(d,void 0);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,d);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!d.bubbles,!!d.cancelable,c);return a}function I(a,b,c){return H(a,b,c)}function Xa(a,b,c){var d=c,e=H(a,b,function(f){try{d(f)}finally{d=null,e()}});return e};var Ya={"slow-2g":50,"2g":50,"3g":1E3,"4g":2500,"5g":5E3},Za;function $a(a){this.win=a;this.aa="";this.Z=ab(this);this.Y=[]}$a.prototype.manage=function(a){var b=this;bb(a,function(){var c=cb(a);b.Z=c.N-1;db(b,a,c.N);for(var d=b.Y.length-1;0<=d;d--){var e=b.Y[d].deref();if(!e){b.Y.splice(d,1);break}if(!e.paused)break;eb(b,e);e.load()}});a.changedSources=function(){eb(b,a)};this.Y.push(Ua(this.win,a))};function fb(a){var b=a.win.navigator.connection;return b&&b.effectiveType?b.effectiveType:"4g"}
function ab(a){a.aa!=fb(a)&&(a.aa=fb(a),a.Z=Ya[a.aa]||Ya["4g"]);return a.Z}function eb(a,b){var c=m(E(b,"source"));c.forEach(function(d){if(!d.N){var e=d.getAttribute("data-bitrate");d.N=e?parseInt(e,10):Number.POSITIVE_INFINITY}});c.sort(function(d,e){return gb(a,e)-gb(a,d)});c.forEach(function(d){b.appendChild(d)})}function gb(a,b){b=b.N;b>ab(a)&&(b*=-1);return b}function hb(a,b){return!!ib(a,function(c){return c.N<b})}
function db(a,b,c){if(hb(b,c)){var d=b.currentTime;b.pause();eb(a,b);b.load();Xa(b,"loadedmetadata",function(){b.currentTime=d;b.play();za().fine("amp-video","Playing at lower bitrate %s",b.currentSrc)})}else za().fine("amp-video","No lower bitrate available")}function bb(a,b){I(a,"waiting",function(){var c=null,d=Xa(a,"playing",function(){clearTimeout(c)});c=setTimeout(function(){d();b()},100)})}function ib(a,b){return Ma(a,function(c){return"SOURCE"!=c.tagName?!1:b(c)})}
function cb(a){return ib(a,function(b){return b.src==a.currentSrc})};var J;function jb(a){a=a.ownerDocument||a;J&&J.ownerDocument===a||(J=a.createElement("div"));return kb}function kb(a){var b=J;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a};function lb(){this.B=null}h=lb.prototype;h.add=function(a){var b=this;this.B||(this.B=[]);this.B.push(a);return function(){b.remove(a)}};h.remove=function(a){this.B&&(a=this.B.indexOf(a),-1<a&&this.B.splice(a,1))};h.removeAll=function(){this.B&&(this.B.length=0)};h.fire=function(a){if(this.B)for(var b=this.B,c=0;c<b.length;c++)(0,b[c])(a)};h.getHandlerCount=function(){return this.B?this.B.length:0};function K(){this.U=!1;this.ia=new lb}K.prototype.onSessionEnd=function(a){this.ia.add(a)};K.prototype.beginSession=function(){this.U=!0};K.prototype.endSession=function(){this.U&&this.ia.fire();this.U=!1};K.prototype.isSessionActive=function(){return this.U};var L,mb="Webkit webkit Moz moz ms O o".split(" ");function nb(a,b,c){if(b.startsWith("--"))return b;L||(L=Ga());var d=L[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<mb.length;f++){var g=mb[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(L[b]=d)}return d}function ob(a,b,c){(b=nb(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function pb(a,b){for(var c in b)ob(a,c,b[c])};function qb(a,b){if(b)return Promise.resolve(!1);var c=a.document.createElement("video");c.setAttribute("muted","");c.setAttribute("playsinline","");c.setAttribute("webkit-playsinline","");c.setAttribute("height","0");c.setAttribute("width","0");c.muted=!0;c.playsinline=!0;c.webkitPlaysinline=!0;pb(c,{position:"fixed",top:"0",width:"0",height:"0",opacity:"0"});(new Promise(function(d){return d(c.play())})).catch(function(){});return Promise.resolve(!c.paused)}var rb=null;function sb(a,b,c){var d=c=void 0===c?{}:c,e=d.needsRootBounds;return new b.IntersectionObserver(a,{threshold:d.threshold,root:b.parent&&b.parent!=b&&e?b.document:void 0})}new WeakMap;new WeakMap;function tb(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null};var M,N;function ub(a){M||(M=new WeakMap,N=new WeakMap);if(!N.has(a)){var b=sb(function(c){for(var d=new Set,e=c.length-1;0<=e;e--){var f=c[e].target;d.has(f)||(d.add(f),b.unobserve(f),M.get(f).resolve(c[e]),M.delete(f))}},a,{needsRootBounds:!0});N.set(a,b);return b}return N.get(a)}function vb(a){if(M&&M.has(a))return M.get(a).promise;ub(a.ownerDocument.defaultView).observe(a);var b=new ma;M.set(a,b);return b.promise};var wb=['<button aria-label="Unmute video" class="i-amphtml-video-mask i-amphtml-fill-content" tabindex=0></button>'],yb=["<i-amphtml-video-icon class=amp-video-eq><div class=amp-video-eq-col><div class=amp-video-eq-filler></div><div class=amp-video-eq-filler></div></div></i-amphtml-video-icon>"];function zb(a,b){var c=jb(a)(wb);b&&b.title&&c.setAttribute("aria-label",b.title);return c}
function Ab(a){var b=jb(a)(yb),c=b.firstElementChild;for(a=0;4>a;a++){for(var d=c.cloneNode(!0),e=d.children,f=0;f<e.length;f++)e[f].classList.add("amp-video-eq-"+(a+1)+"-"+(f+1));b.appendChild(d)}D(c);return b};function Bb(a){var b=this;this.ampdoc=a;this.installAutoplayStyles=p(function(){var c=b.ampdoc.getHeadNode(),d=c.__AMP_CSS_TR;var e=d?d(".i-amphtml-video-mask{display:block;z-index:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none}.amp-video-eq{display:none}.i-amphtml-video-interface:not(amp-video) .amp-video-eq,amp-story .amp-video-eq,amp-video[controls] .amp-video-eq{display:-ms-flexbox;display:flex}[noaudio] .amp-video-eq{display:none!important}.amp-video-eq{pointer-events:none!important;-ms-flex-align:end;align-items:flex-end;bottom:7px;height:12px;opacity:0.8;overflow:hidden;position:absolute;right:7px;width:20px;z-index:1}.amp-video-eq-col{-ms-flex:1;flex:1;height:100%;margin-right:1px;position:relative}.amp-video-eq-col div{animation-name:amp-video-eq-animation;animation-timing-function:linear;animation-iteration-count:infinite;animation-direction:alternate;background-color:#fafafa;height:100%;position:absolute;width:100%;will-change:transform;animation-play-state:paused}.amp-video-eq-play .amp-video-eq-col div{animation-play-state:running}.amp-video-eq-1-1{animation-duration:0.3s;transform:translateY(60%)}.amp-video-eq-1-2{animation-duration:0.45s;transform:translateY(60%)}.amp-video-eq-2-1{animation-duration:0.5s;transform:translateY(30%)}.amp-video-eq-2-2{animation-duration:0.4s;transform:translateY(30%)}.amp-video-eq-3-1{animation-duration:0.3s;transform:translateY(70%)}.amp-video-eq-3-2{animation-duration:0.35s;transform:translateY(70%)}.amp-video-eq-4-1{animation-duration:0.4s;transform:translateY(50%)}.amp-video-eq-4-2{animation-duration:0.25s;transform:translateY(50%)}@keyframes amp-video-eq-animation{0%{transform:translateY(100%)}to{transform:translateY(0)}}\n/*# sourceURL=/css/video-autoplay.css*/"):
".i-amphtml-video-mask{display:block;z-index:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none}.amp-video-eq{display:none}.i-amphtml-video-interface:not(amp-video) .amp-video-eq,amp-story .amp-video-eq,amp-video[controls] .amp-video-eq{display:-ms-flexbox;display:flex}[noaudio] .amp-video-eq{display:none!important}.amp-video-eq{pointer-events:none!important;-ms-flex-align:end;align-items:flex-end;bottom:7px;height:12px;opacity:0.8;overflow:hidden;position:absolute;right:7px;width:20px;z-index:1}.amp-video-eq-col{-ms-flex:1;flex:1;height:100%;margin-right:1px;position:relative}.amp-video-eq-col div{animation-name:amp-video-eq-animation;animation-timing-function:linear;animation-iteration-count:infinite;animation-direction:alternate;background-color:#fafafa;height:100%;position:absolute;width:100%;will-change:transform;animation-play-state:paused}.amp-video-eq-play .amp-video-eq-col div{animation-play-state:running}.amp-video-eq-1-1{animation-duration:0.3s;transform:translateY(60%)}.amp-video-eq-1-2{animation-duration:0.45s;transform:translateY(60%)}.amp-video-eq-2-1{animation-duration:0.5s;transform:translateY(30%)}.amp-video-eq-2-2{animation-duration:0.4s;transform:translateY(30%)}.amp-video-eq-3-1{animation-duration:0.3s;transform:translateY(70%)}.amp-video-eq-3-2{animation-duration:0.35s;transform:translateY(70%)}.amp-video-eq-4-1{animation-duration:0.4s;transform:translateY(50%)}.amp-video-eq-4-2{animation-duration:0.25s;transform:translateY(50%)}@keyframes amp-video-eq-animation{0%{transform:translateY(100%)}to{transform:translateY(0)}}\n/*# sourceURL=/css/video-autoplay.css*/";
(d=c.__AMP_CSS_SM)||(d=c.__AMP_CSS_SM=Ga());var f=tb(c,d,"amp-extension=amp-video-autoplay");f?f.textContent!==e&&(f.textContent=e):(f=(c.ownerDocument||c).createElement("style"),f.textContent=e,f.setAttribute("amp-extension","amp-video-autoplay"),e=tb(c,d,"amp-runtime"),Ja(c,f,e),d["amp-extension=amp-video-autoplay"]=f)});this.da=this.P=this.A=null;this.W=w(a.win,"timer");this.qa=B(a.getHeadNode(),"action");this.ha=function(){for(var c=0;c<b.A.length;c++){var d=b.A[c];if("paused"!==d.getPlayingState()){O(d,
"video-seconds-played");var e=d.video.getCurrentTime(),f=d.video.getDuration();ta(e)&&ta(f)&&0<f&&(e=Wa(b.ampdoc.win,"video-manager.timeUpdate",Ha({time:e,percent:e/f})),b.qa.trigger(d.video.element,"timeUpdate",e,1))}}b.W.delay(b.ha,1E3)};this.ba=p(function(){return new P(b.ampdoc,b)});this.W.delay(this.ha,1E3)}h=Bb.prototype;h.dispose=function(){this.ba().dispose();this.P.disconnect();this.P=null;if(this.A)for(var a=0;a<this.A.length;a++)this.A[a].dispose()};
h.register=function(a){var b=this;Cb(a);if(a.supportsPlatform()&&!Q(this,a)){this.P||(this.P=sb(function(e){return e.forEach(function(f){var g=f.isIntersecting;Q(b,f.target).updateVisibility(g)})},this.ampdoc.win,{threshold:.5}));this.P.observe(a.element);I(a.element,"reloaded",function(){return c.videoLoaded()});this.A=this.A||[];var c=new Db(this,a);this.A.push(c);var d=c.video.element;F(d,"registered");d.classList.add("i-amphtml-media-component");a.signals().signal("registered");d.classList.add("i-amphtml-video-interface")}};
function Cb(a){function b(){return a.fullscreenEnter()}function c(d,e){a.registerAction(d,function(){Sa(a);e()},1)}c("play",function(){return a.play(!1)});c("pause",function(){return a.pause()});c("mute",function(){return a.mute()});c("unmute",function(){return a.unmute()});c("fullscreenenter",b);c("fullscreen",b)}function Q(a,b){if(Eb(a.da,b))return a.da;for(var c=0;a.A&&c<a.A.length;c++){var d=a.A[c];if(Eb(d,b))return a.da=d}return null}h.registerForAutoFullscreen=function(a){this.ba().register(a)};
h.ya=function(){return this.ba()};h.getVideoStateProperty=function(a,b){var c=this.ampdoc.getRootNode(),d=t().assertElement(c.getElementById(a),'Could not find an element with id="'+a+'" for VIDEO_STATE');a=Q(this,d);return(a?a.getAnalyticsDetails():la()).then(function(e){return e?e[b]:""})};h.getPlayingState=function(a){return Q(this,a).getPlayingState()};h.isMuted=function(a){return Q(this,a).isMuted()};h.userInteracted=function(a){return Q(this,a).userInteracted()};
h.isRollingAd=function(a){return Q(this,a).isRollingAd()};h.pauseOtherVideos=function(a){this.A.forEach(function(b){b.isPlaybackManaged()&&b!==a&&"playing_manual"==b.getPlayingState()&&b.video.pause()})};function Eb(a,b){return!!a&&(a.video===b||a.video.element===b)}
function Db(a,b){var c=this;this.L=a;this.o=a.ampdoc;this.video=b;this.ea=!0;this.K=this.T=this.C=this.na=!1;this.$=new K;this.$.onSessionEnd(function(){return O(c,"video-session")});this.M=new K;this.M.onSessionEnd(function(){return O(c,"video-session-visible")});this.ga=function(){var d=c.o.win,e=ra(d).lite;rb||(rb=p(qb));return rb(d,e)};this.ka=p(function(){return new S(c.o.win,c)});this.fa=this.oa=!1;this.ca=null;this.la=this.F=!1;(this.hasAutoplay=b.element.hasAttribute("autoplay"))&&this.L.installAutoplayStyles();
this.l=Pa;this.ua=function(){c.video.play(!1)};this.ta=function(){c.video.pause()};I(b.element,"load",function(){return c.videoLoaded()});I(b.element,"pause",function(){O(c,"video-pause");c.C=!1;c.fa?c.fa=!1:c.$.endSession()});I(b.element,"play",function(){c.la=!0;O(c,"video-play")});I(b.element,"playing",function(){c.C=!0;"playing_manual"==c.getPlayingState()&&(c.ja(),c.L.pauseOtherVideos(c));var d=c.video,e=d.element;if(!d.preimplementsMediaSessionAPI()&&!e.classList.contains("i-amphtml-disable-mediasession")){Ra(e,
c.l);d=c.o.win;e=c.l;var f=c.ua,g=c.ta,k=d.navigator;"mediaSession"in k&&d.MediaMetadata&&(k.mediaSession.metadata=new d.MediaMetadata(Pa),k.mediaSession.metadata=new d.MediaMetadata(e),k.mediaSession.setActionHandler("play",f),k.mediaSession.setActionHandler("pause",g))}c.$.beginSession();c.K&&c.M.beginSession();c.la||O(c,"video-play")});I(b.element,"muted",function(){return c.F=!0});I(b.element,"unmuted",function(){c.F=!1;c.L.pauseOtherVideos(c)});I(b.element,"amp:video:tick",function(d){d=d.data;
var e=d.eventType;e&&Fb(c,e,d.vars)});I(b.element,"ended",function(){c.T=!1;O(c,"video-ended")});I(b.element,"ad_start",function(){c.T=!0;O(c,"video-ad-start")});I(b.element,"ad_end",function(){c.T=!1;O(c,"video-ad-end")});b.signals().whenSignal("registered").then(function(){var d=c.video.element;(c.video.preimplementsAutoFullscreen()||!d.hasAttribute("rotate-to-fullscreen")?0:Aa(c.video.isInteractive(),"Only interactive videos are allowed to enter fullscreen on rotate. Set the `controls` attribute on %s to enable.",
d))&&c.L.registerForAutoFullscreen(c);c.hasAutoplay&&Gb(c)});this.ja=p(function(){var d=Wa(c.o.win,"firstPlay",Ha({})),e=c.video.element;B(e,"action").trigger(e,"firstPlay",d,1)});Hb(this)}h=Db.prototype;h.dispose=function(){this.ka().stop()};function Fb(a,b,c){var d={},e=(d["__amp:eventType"]=b,d);Object.keys(c).forEach(function(f){e["custom_"+f]=c[f]});O(a,"video-hosted-custom",e)}function Hb(a){a.video.signals().whenSignal("playback-delegated").then(function(){a.ea=!1;a.C&&a.video.pause()})}
h.isMuted=function(){return this.F};h.isPlaybackManaged=function(){return this.ea};
h.videoLoaded=function(){this.na=!0;this.ca=this.video.element.querySelector("video, iframe");if(!this.video.preimplementsMediaSessionAPI()){this.video.getMetadata()&&(this.l=Ga(this.video.getMetadata()));var a=this.o.win.document;if(!this.l.artwork||0==this.l.artwork.length){var b;(b=Qa(a))||(b=(b=a.querySelector('meta[property="og:image"]'))?b.getAttribute("content"):void 0);b||(b=(b=a.querySelector('link[rel="shortcut icon"]')||a.querySelector('link[rel="icon"]'))?b.getAttribute("href"):void 0);
b&&(this.l.artwork=[{src:b}])}!this.l.title&&(a=this.video.element.getAttribute("title")||this.video.element.getAttribute("aria-label")||this.ca.getAttribute("title")||this.ca.getAttribute("aria-label")||a.title)&&(this.l.title=a)}this.ka().start();this.K&&Ib(this)};
function Ib(a){a.o.isVisible()&&a.ga().then(function(b){a.hasAutoplay&&!a.userInteracted()&&b?a.ea&&(a.K?(a.M.beginSession(),a.video.play(!0),a.oa=!0):(a.C&&a.M.endSession(),a.video.pause(),a.fa=!0)):a.K?a.M.beginSession():a.C&&a.M.endSession()})}function Gb(a){a.video.isInteractive()&&a.video.hideControls();a.ga().then(function(b){!b&&a.video.isInteractive()?a.video.showControls():(a.video.mute(),Jb(a))})}
function Jb(a){var b=a.video,c=a.video.element;if(!c.hasAttribute("noaudio")&&!c.signals().get("user-interacted")){var d=Ab(c),e=function(l){b.mutateElementSkipRemeasure(function(){return d.classList.toggle("amp-video-eq-play",l)})};b.mutateElementSkipRemeasure(function(){return c.appendChild(d)});var f=[I(c,"pause",function(){return e(!1)}),I(c,"playing",function(){return e(!0)})];b.signals().whenSignal("user-interacted").then(function(){var l=a.video,n=l.element;a.ja();l.isInteractive()&&l.showControls();
l.unmute();f.forEach(function(aa){aa()});l=n.querySelector(".amp-video-eq");n=n.querySelector(".i-amphtml-video-mask");l&&D(l);n&&D(n)});if(b.isInteractive()){var g=zb(c,a.l),k=function(l){b.mutateElementSkipRemeasure(function(){var n=l;void 0===n&&(n=g.hasAttribute("hidden"));n?g.removeAttribute("hidden"):g.setAttribute("hidden","")})};b.hideControls();b.mutateElementSkipRemeasure(function(){return c.appendChild(g)});[I(g,"click",function(){return Sa(b)}),I(c,"ad_start",function(){k(!1);b.showControls()}),
I(c,"ad_end",function(){k(!0);b.hideControls()}),I(c,"unmuted",function(){return Sa(b)})].forEach(function(l){return f.push(l)})}}}h.updateVisibility=function(a){var b=this.K;this.K=a;a!=b&&this.na&&Ib(this)};h.getPlayingState=function(){return this.C?this.C&&this.oa&&!this.userInteracted()?"playing_auto":"playing_manual":"paused"};h.isRollingAd=function(){return this.T};h.userInteracted=function(){return null!=this.video.signals().get("user-interacted")};
h.getAnalyticsDetails=function(){var a=this,b=this.video;return this.ga().then(function(c){var d=b.element.getLayoutSize(),e=d.width;d=d.height;var f=a.hasAutoplay&&c,g=b.getPlayedRanges(),k=g.reduce(function(l,n){return l+n[1]-n[0]},0);return{autoplay:f,currentTime:b.getCurrentTime(),duration:b.getDuration(),height:d,id:b.element.id,muted:a.F,playedTotal:k,playedRangesJson:JSON.stringify(g),state:a.getPlayingState(),width:e}})};
function P(a,b){var c=this;this.L=b;this.o=a;this.J=this.O=null;this.A=[];this.j=[];this.R=function(){return Kb(c)};this.sa=function(d){return"playing_manual"==c.L.getPlayingState(d)};this.ra=function(d,e){var f=d.boundingClientRect;var g=e.boundingClientRect;d=d.intersectionRatio-e.intersectionRatio;.1<Math.abs(d)?f=d:(e=y(c.o,"viewport"),d=Lb(e,f),e=Lb(e,g),f=d<e||d>e?d-e:f.top-g.top);return f};Mb(this);Nb(this)}
P.prototype.dispose=function(){this.j.forEach(function(a){return a()});this.j.length=0};P.prototype.register=function(a){a=a.video;var b=a.element;if("video"==b.querySelector("video, iframe").tagName.toLowerCase())var c=!0;else c=x(this.o.win,"platform"),c=c.isIos()||c.isSafari()?!!{"amp-dailymotion":!0,"amp-ima-video":!0}[b.tagName.toLowerCase()]:!0;c&&(this.A.push(a),H(b,"pause",this.R),H(b,"playing",this.R),H(b,"ended",this.R),a.signals().whenSignal("user-interacted").then(this.R),Kb(this))};
function Nb(a){function b(){a.O=null}var c=a.o.getRootNode();a.j.push(H(c,"webkitfullscreenchange",b),H(c,"mozfullscreenchange",b),H(c,"fullscreenchange",b),H(c,"MSFullscreenChange",b))}P.prototype.isInLandscape=function(){var a=this.o.win;return a.screen&&"orientation"in a.screen?a.screen.orientation.type.startsWith("landscape"):90==Math.abs(a.orientation)};
function Mb(a){var b=a.o.win,c=b.screen;c&&"orientation"in c&&a.j.push(I(c.orientation,"change",function(){return Ob(a)}));a.j.push(I(b,"orientationchange",function(){return Ob(a)}))}function Ob(a){a.isInLandscape()?null!=a.J&&Pb(a,a.J):a.O&&Qb(a,a.O)}function Pb(a,b){var c=x(a.o.win,"platform");a.O=b;c.isAndroid()&&c.isChrome()?b.fullscreenEnter():Rb(a,b).then(function(){return b.fullscreenEnter()})}function Qb(a,b){a.O=null;Rb(a,b,"center").then(function(){return b.fullscreenExit()})}
function Rb(a,b,c){var d=c=void 0===c?null:c,e=b.element,f=y(a.o,"viewport");return w(a.o.win,"timer").promise(330).then(function(){return vb(e)}).then(function(g){var k=g.boundingClientRect;g=k.top;k=k.bottom;var l=f.getSize().height;return 0<=g&&k<=l?la():f.animateScrollIntoView(e,d?d:k>l?"bottom":"top")})}
function Kb(a){if(a.isInLandscape())return Promise.resolve(a.J);a.J=null;var b=a.A.filter(a.sa).map(function(c){return vb(c.element)});return Promise.all(b).then(function(c){var d=c.sort(a.ra)[0];return d&&.5<d.intersectionRatio?d.target.getImpl().then(function(e){return a.J=e}):a.J})}function Lb(a,b){b=b.top+b.height/2;var c=a.getSize().height/2;return Math.abs(b-c)}function S(a,b){this.W=w(a,"timer");this.S=b;this.j=null;this.X=this.ma=0}
S.prototype.start=function(){var a=this,b=this.S.video.element;this.stop();this.j=this.j||[];Sb(this)?Tb(this,this.X):this.j.push(Xa(b,"loadedmetadata",function(){Sb(a)&&Tb(a,a.X)}));this.j.push(I(b,"ended",function(){Sb(a)&&Ub(a,100)}))};S.prototype.stop=function(){if(this.j){for(;0<this.j.length;)this.j.pop()();this.X++}};
function Sb(a){var b=a.S.video,c=b.getDuration();if(!(c&&!isNaN(c)&&1<c))return!1;250>50*c&&a.xa("This video is too short for `video-percentage-played`. Reports may be innacurate. For best results, use videos over",5,"seconds long.",b.element);return!0}S.prototype.xa=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];t().warn.apply(t(),["video-manager"].concat(b))};
function Tb(a,b){if(b==a.X){var c=a.S,d=a.W,e=c.video,f=function(){return Tb(a,b)};if("paused"==c.getPlayingState())d.delay(f,500);else if((c=e.getDuration())&&!isNaN(c)&&1<c){var g=Math.min(Math.max(50*c,250),4E3),k=e.getCurrentTime()/c*100,l=5*Math.floor(k/5);ta(l);Ub(a,l);d.delay(f,g)}else d.delay(f,500)}}function Ub(a,b){0>=b||a.ma==b||(a.ma=b,O(a.S,"video-percentage-played",{normalizedPercentage:b.toString()}))}
function O(a,b,c){var d=a.video;a.getAnalyticsDetails().then(function(e){c&&Object.assign(e,c);F(d.element,b,e)})};function Vb(a,b){return 0>a.indexOf(b)?(a.push(b),!0):!1};function T(a){var b=this,c=a.win;this.D=[];var d=this.wa.bind(this);this.D.push(new c.IntersectionObserver(d,{root:a.getBody(),threshold:.51}));this.D.push(new c.IntersectionObserver(d,{threshold:.51}));this.G=Wb(a.getVisibilityState());this.pa=a.onVisibilityChanged(function(){var e=Wb(a.getVisibilityState());e!==b.G&&(b.G=e,Xb(b))});this.I=new Map;this.H=new Map}T.prototype.dispose=function(){this.D.forEach(function(a){return a.disconnect()});this.pa();this.pa=null;this.I.clear();this.H.clear()};
T.prototype.observe=function(a,b){var c=this,d=this.I.get(a);if(!d){d=[];this.I.set(a,d);for(var e=0;e<this.D.length;e++)this.D[e].observe(a)}Vb(d,b)&&this.H.has(a)&&setTimeout(function(){var f=U(c.H.get(a),c.G);if(null!=f)try{b(f)}catch(g){xa(g)}})};T.prototype.unobserve=function(a,b){var c=this.I.get(a);if(c&&(b=c.indexOf(b),-1!=b&&c.splice(b,1),0==c.length))for(this.I.delete(a),this.H.delete(a),c=0;c<this.D.length;c++)this.D[c].unobserve(a)};
function Xb(a){a.I.forEach(function(b,c){var d=a.H.get(c),e=U(d,!a.G),f=U(d,a.G);Yb(b,f,e)})}T.prototype.wa=function(a,b){for(var c=new Set,d=a.length-1;0<=d;d--){var e=a[d],f=e.target,g=e.isIntersecting;if(!c.has(f)&&(c.add(f),e=this.I.get(f))){var k=this.H.get(f);if(!k){k=this.D.length;for(var l=Array(k),n=0;n<k;n++)l[n]=null;k=l;this.H.set(f,k)}f=U(k,this.G);l=this.D.indexOf(b);k[l]=g;g=U(k,this.G);Yb(e,g,f)}}};function Zb(a){Ba(a,"DisplayObserver",T);return y(a,"DisplayObserver")}
function U(a,b){return b?a?a.reduce($b):null:!1}function Wb(a){return"visible"==a||"hidden"==a}function $b(a,b){return a||b?!0:!1===a&&!1===b?!1:null}function Yb(a,b,c){if(null!=b&&b!==c)for(c=0;c<a.length;c++)try{(0,a[c])(b)}catch(d){xa(d)}};var ac=["<i-amphtml-poster></i-amphtml-poster>"],bc="aria-describedby aria-label aria-labelledby controls crossorigin disableremoteplayback controlsList".split(" "),cc={high:2E3,medium:720,low:400},dc=["loop","poster","preload"],ec=bc.concat(dc);function V(a){a=AMP.BaseElement.call(this,a)||this;a.h=null;a.F=!1;a.l=Pa;a.j=[];a.za=null;a.C=!1;a.V=a.V.bind(a);return a}var W=AMP.BaseElement;V.prototype=ca(W.prototype);V.prototype.constructor=V;
if(ja)ja(V,W);else for(var X in W)if("prototype"!=X)if(Object.defineProperties){var fc=Object.getOwnPropertyDescriptor(W,X);fc&&Object.defineProperty(V,X,fc)}else V[X]=W[X];V.Aa=W.prototype;V.prerenderAllowed=function(a){if(a.getAttribute("poster"))return!0;var b=m(E(a,"source"));b.push(a);for(var c=0;c<b.length;c++)if(Y(b[c],a))return!0;return!1};h=V.prototype;h.preconnectCallback=function(a){var b=this;gc(this).forEach(function(c){x(b.win,"preconnect").url(b.getAmpDoc(),c,a)})};
function gc(a){var b=a.element.getAttribute("src");if(b)return[b];var c=[];m(E(a.element,"source")).forEach(function(d){var e=d.getAttribute("src");e&&c.push(e);var f=d.getAttribute("amp-orig-src");f&&c.push(f)});return c}h.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
h.buildCallback=function(){var a=this.element;hc(this);this.h=a.ownerDocument.createElement("video");this.element.querySelector("source[data-bitrate], source[amp-orig-src]")&&(Za?Za:Za=new $a(this.win)).manage(this.h);var b=a.getAttribute("poster");!b&&ra().development&&console.error('No "poster" attribute has been provided for amp-video.');this.h.setAttribute("playsinline","");this.h.setAttribute("webkit-playsinline","");this.h.setAttribute("preload","none");this.propagateAttributes(bc,this.h,!0);
ic(this);this.applyFillContent(this.h,!0);var c=this.element,d=this.h;c.hasAttribute("object-fit")&&ob(d,"object-fit",c.getAttribute("object-fit"));c.hasAttribute("object-position")&&ob(d,"object-position",c.getAttribute("object-position"));a.appendChild(this.h);var e=a.getAttribute("artist");c=a.getAttribute("title");var f=a.getAttribute("album");d=a.getAttribute("artwork");this.l={title:c||"",artist:e||"",album:f||"",artwork:[{src:d||b||""}]};Ba(a,"video-manager",Bb);y(a,"video-manager").register(this)};
h.detachedCallback=function(){jc(this,!1)};function hc(a){var b=a.element;La(b)&&["i-amphtml-disable-mediasession","i-amphtml-poolbound"].forEach(function(c){b.classList.add(c)})}
h.mutatedAttributesCallback=function(a){if(this.h){var b=this.element;a.src&&(B(this.element,"url").assertHttpsUrl(b.getAttribute("src"),b),this.propagateAttributes(["src"],this.h));var c=ec.filter(function(f){return void 0!==a[f]});this.propagateAttributes(c,this.h,!0);a.src&&F(b,"reloaded");if(a.artwork||a.poster){var d=b.getAttribute("artwork"),e=b.getAttribute("poster");this.l.artwork=[{src:d||e||""}]}a.album&&(d=b.getAttribute("album"),this.l.album=d||"");a.title&&(d=b.getAttribute("title"),
this.l.title=d||"");a.artist&&(b=b.getAttribute("artist"),this.l.artist=b||"")}};
h.layoutCallback=function(){var a=this;this.h=this.h;if(!this.h.play)return this.toggleFallback(!0),la();this.propagateAttributes(dc,this.h,!0);kc(this);lc(this,function(){return mc(a)});nc(this);if("prerender"==this.getAmpDoc().getVisibilityState()){this.element.hasAttribute("preload")||this.h.setAttribute("preload","auto");var b=this.getAmpDoc().whenFirstVisible().then(function(){oc(a);return w(a.win,"timer").promise(1).then(function(){if(!Z(a))return a.loadPromise(a.h)})})}else oc(this);var c=
this.loadPromise(this.h).then(null,function(d){if(b)return b;throw d;}).then(function(){F(a.element,"load")});if("none"!==this.element.getAttribute("preload"))return Z(this)?b:c};function pc(a,b){if(a.h.error&&a.h.error.code==MediaError.MEDIA_ERR_DECODE&&(t().error("amp-video","Decode error in "+a.h.currentSrc,a.element),!a.h.src)){var c=0,d=Ma(a.h,function(e){if("SOURCE"!=e.tagName)return!1;c++;return e.src==a.h.currentSrc});0!=c&&(d,D(d),b.stopImmediatePropagation(),a.h.load(),a.play(!1))}}
function nc(a){var b=m(E(a.element,"source"));if(a.element.hasAttribute("src")&&Y(a.element)){var c=a.element.getAttribute("src"),d=a.element.getAttribute("type"),e=qc(a,c,d),f=a.element.getAttribute("amp-orig-src");e.setAttribute("amp-orig-src",f);a.element.removeAttribute("src");a.element.removeAttribute("type");b.unshift(e)}b.forEach(function(g){if(Y(g,a.element)){g.remove();var k=Object.keys(cc),l=g.getAttribute("type"),n=g.getAttribute("amp-orig-src");k.forEach(function(aa,rc){var z=g.src;var v=
{amp_quality:aa};var A=[],ba;for(ba in v){var R=v[ba];if(null!=R)if(Array.isArray(R))for(var ya=0;ya<R.length;ya++){var sc=R[ya];A.push(encodeURIComponent(ba)+"="+encodeURIComponent(sc))}else A.push(encodeURIComponent(ba)+"="+encodeURIComponent(R))}v=A.join("&");v&&(z=z.split("#",2),A=z[0].split("?",2),v=A[0]+(A[1]?"?"+A[1]+"&"+v:"?"+v),z=v+=z[1]?"#"+z[1]:"");var xb=qc(a,z,l,cc[aa]);rc===k.length-1&&xb.setAttribute("amp-orig-src",n);a.h.appendChild(xb)})}});a.h.changedSources&&a.h.changedSources()}
function oc(a){var b=m(E(a.element,"source")),c=a.element,d=B(a.element,"url");c.hasAttribute("src")&&!Y(c)&&(d.assertHttpsUrl(c.getAttribute("src"),c),a.propagateAttributes(["src"],a.h));b.forEach(function(e){Y(e,c);d.assertHttpsUrl(e.getAttribute("src"),e);a.h.appendChild(e)});m(a.h.querySelectorAll("[amp-orig-src]")).forEach(function(e){var f=e.getAttribute("amp-orig-src"),g=e.getAttribute("type"),k=qc(a,f,g);Ja(a.h,k,e)});m(E(c,"track")).forEach(function(e){a.h.appendChild(e)});a.h.changedSources&&
a.h.changedSources()}function qc(a,b,c,d){var e=void 0===d?null:d;d=a.element;B(a.element,"url").assertHttpsUrl(b,d);a=d.ownerDocument.createElement("source");a.setAttribute("src",b);c&&a.setAttribute("type",c);null!==e&&a.setAttribute("data-bitrate",e);return a}
function ic(a){var b=a.h;b.addEventListener("error",function(c){return pc(a,c)});a.j.push(a.forwardEvents("ended loadedmetadata loadeddata pause playing play".split(" "),b));a.j.push(I(b,"volumechange",function(){var c=a.h.muted;a.F!=c&&(a.F=c,F(a.element,a.F?"muted":"unmuted"))}));["play","pause","ended"].forEach(function(c){a.j.push(I(b,c,function(){return jc(a,"play"==c)}))})}
h.resetOnDomChange=function(){var a=this;this.h=Na(this.element);for(jc(this,!1);this.j.length;)this.j.pop().call();ic(this);this.loadPromise(this.h).then(function(){F(a.element,"load")})};function jc(a,b){Z(a)||b===a.C||((a.C=b)?(b=a.element,a=a.V,Zb(b).observe(b,a)):(b=a.element,a=a.V,Zb(b).unobserve(b,a)))}h.V=function(a){!a&&this.h&&this.h.pause()};h.supportsPlatform=function(){return!!this.h.play};h.isInteractive=function(){return this.element.hasAttribute("controls")};
h.play=function(){var a=this.h.play();a&&a.catch&&a.catch(function(){})};function kc(a){if(x(a.win,"platform").isAndroid()){var b=a.element;if(!b.querySelector("i-amphtml-poster")){var c=jb(b)(ac),d=b.getAttribute("poster");c.style.display="block";pb(c,{"background-image":"url("+d+")","background-size":"cover","background-position":"center"});c.classList.add("i-amphtml-android-poster-bug");a.applyFillContent(c);b.appendChild(c)}}}h.pause=function(){this.h.pause()};
h.mute=function(){Z(this)||(this.h.muted=!0)};h.unmute=function(){Z(this)||(this.h.muted=!1)};function Z(a){return a.element.classList.contains("i-amphtml-poolbound")}h.showControls=function(){this.h.controls=!0};h.hideControls=function(){this.h.controls=!1};h.fullscreenEnter=function(){var a=this.h,b=a.requestFullscreen||a.requestFullScreen||a.webkitRequestFullscreen||a.webkitEnterFullscreen||a.msRequestFullscreen||a.mozRequestFullScreen;b&&b.call(a)};
h.fullscreenExit=function(){var a=this.h,b=a.cancelFullScreen||a.exitFullscreen||a.webkitExitFullscreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen;b?b.call(a):(a=a.ownerDocument)&&(b=a.cancelFullScreen||a.exitFullscreen||a.webkitExitFullscreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen)&&b.call(a)};
h.isFullscreen=function(){var a=this.h;var b=a.webkitDisplayingFullscreen;a=void 0!==b?b:(b=a.ownerDocument)?(b.fullscreenElement||b.webkitFullscreenElement||b.mozFullScreenElement||b.webkitCurrentFullScreenElement)==a:!1;return a};h.getMetadata=function(){return this.l};h.preimplementsMediaSessionAPI=function(){return!1};h.preimplementsAutoFullscreen=function(){return!1};h.getCurrentTime=function(){return this.h.currentTime};h.getDuration=function(){return this.h.duration};
h.getPlayedRanges=function(){for(var a=this.h.played,b=a.length,c=[],d=0;d<b;d++)c.push([a.start(d),a.end(d)]);return c};h.firstLayoutCompleted=function(){mc(this)||this.togglePlaceholder(!1);var a=this.element.querySelector("i-amphtml-poster");a&&D(a)};function mc(a){var b=a.getPlaceholder();if(b&&b.classList.contains("i-amphtml-blurry-placeholder")){a={opacity:0};var c=b.style,d;for(d in a)c.setProperty(nb(c,d),a[d].toString(),"important");return!0}return!1}
function lc(a,b){if(a=a.h.getAttribute("poster")){var c=new Image;c.onload=b;c.src=a}}h.seekTo=function(a){this.h.currentTime=a};function Y(a,b){var c=a.getAttribute("src");return a.hasAttribute("amp-orig-src")?B(b||a,"url").isProxyOrigin(c):!1}(function(a){a.registerElement("amp-video",V)})(self.AMP);
})});

//# sourceMappingURL=amp-video-0.1.js.map
